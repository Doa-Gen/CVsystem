# 图像处理学习平台

基于PyQt5和OpenCV的图像处理学习平台，用于学习和实践基础图像处理算法。

## 功能特性

### 实验一：基础图像处理
1. **摄像头调用** - 视频打开、暂停、关闭及单帧获取
2. **图像格式转换** - RGB转灰度、RGB转HSV（手动实现算法）
3. **图像读写测试** - 像素RGB值查看/修改、绘制简单图形
4. **图片融合** - 透明度融合、颜色阈值抠图融合
5. **图像校正** - 透视变换校正倾斜图像

### 实验二：图像增强
1. **直接灰度变换** - 可自定义分段线性变换
2. **图像直方图计算及均衡化** - 手动实现直方图均衡化算法
3. **图像中值滤波** - 3×3、5×5、7×7核大小
4. **低通滤波** - 添加高斯噪声、椒盐噪声并滤波
5. **目标寻找** - 圆形区域检测并标注

## 技术栈

- **开发语言**: Python 3.8+
- **GUI框架**: PyQt5
- **图像处理库**: OpenCV
- **辅助库**: NumPy, Matplotlib

## 安装说明

### 1. 安装Python依赖

```bash
pip install -r requirements.txt
```

### 2. 运行程序

```bash
python main.py
```

## 项目结构

```
CVsystem/
├── main.py                  # 程序入口
├── requirements.txt         # 依赖包列表
├── ui/                      # UI模块
│   ├── __init__.py
│   ├── main_window.py       # 主窗口
│   ├── experiment1.py       # 实验一窗口
│   ├── experiment2.py       # 实验二窗口
│   └── styles.py            # 统一样式（GitHub浅色主题）
├── core/                    # 核心处理模块
│   ├── __init__.py
│   ├── image_processor.py   # 图像处理核心算法
│   └── camera.py            # 摄像头处理
└── utils/                   # 工具模块
    ├── __init__.py
    └── helpers.py           # 辅助函数
```

## 使用说明

### 基本操作流程

1. 启动程序后，从顶部菜单选择 **实验**（实验一或实验二）
2. 选择实验后，再选择具体的 **任务**
3. 系统会打开对应的实验窗口，左侧显示该任务的功能按钮
4. 使用 **导入初始图片** 加载图像
5. 调整左侧参数并点击 **确认** 按钮预览效果
6. 使用 **导出处理后图片** 保存结果

### 界面布局

- **顶部工具栏**: 实验选择、任务选择、导入/导出按钮
- **左侧控制面板**: 当前任务的功能参数调整区（宽度300px）
- **右侧图像区域**: 
  - 上方显示原始图像
  - 下方显示处理后图像

## 核心算法说明

本项目的核心图像处理算法均基于原理手动实现，不直接使用OpenCV的内置转换函数：

- **RGB转灰度**: 使用加权平均公式 `Gray = 0.299*R + 0.587*G + 0.114*B`
- **RGB转HSV**: 实现完整的HSV颜色空间转换算法
- **直方图均衡化**: 手动计算累积分布函数(CDF)并映射
- **中值滤波**: 逐像素窗口中值计算
- **分段线性变换**: 基于用户定义的控制点进行灰度映射

## 注意事项

1. 首次运行前请确保已安装所有依赖包
2. 摄像头功能需要系统有可用的摄像头设备
3. 中值滤波在大核和大图像时可能较慢，请耐心等待
4. 所有窗口保持统一的GitHub浅色主题风格
5. 图像显示区域固定大小（1000×380px），过大的图像会自动缩放

## 开发环境

- Windows 10/11
- Python 3.8+
- PyQt5 5.15+
- OpenCV 4.8+

## 许可证

本项目仅用于教学和学习目的。
